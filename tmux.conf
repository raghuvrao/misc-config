# ~/.tmux.conf
# Author: Raghu V. Rao <raghu.v.rao@gmail.com>

set-option -g -s escape-time 50

set-option -g -s default-terminal screen-256color

# Do not attempt to copy to clipboard: trying to do so in terminal emulators
# that do not properly support the required sequences will make tmux print
# garbage to the screen after a copy operation.
set-option -g -s set-clipboard off

unbind-key -T root C-b
unbind-key -T prefix C-b
set-option -g prefix C-a
bind-key -T prefix C-a send-prefix
bind-key -T prefix a send-prefix

# In all my years of using tmux, not once have I felt the need to suspend the
# tmux client (suspending is not the same as detaching).  Also, unbinding C-z
# lets me misfire <PREFIX>z as <PREFIX>C-z without consequences.
unbind-key -T prefix C-z

bind-key -T prefix c new-window -c "#{pane_current_path}"
bind-key -T prefix '"' split-window -v -c "#{pane_current_path}"
bind-key -T prefix '%' split-window -h -c "#{pane_current_path}"

bind-key -T prefix ] paste-buffer -p

# The following pane-navigation bindings do not ALWAYS work.  E.g. they do not
# work in the GNU/Linux console.  It is OK.  They seem to work reliably in the
# terminal emulators I use.
bind-key -T root S-Left select-pane -L
bind-key -T root S-Right select-pane -R
bind-key -T root S-Up select-pane -U
bind-key -T root S-Down select-pane -D

bind-key -T prefix C-s set-option -w synchronize-panes
bind-key -T prefix W resize-pane -x 100
bind-key -T prefix C-r source-file ~/.tmux.conf \; display-message "Configuration reload"
bind-key -T prefix b run-shell 'tmux show-buffer | xsel -ib' \; display-message "Copy to clipboard"

# Create a binding to start selection more easily.  In more recent versions of
# tmux, use `send-keys -X begin-selection' instead of `send-keys Space'.
bind-key -T prefix h copy-mode \; send-keys Space

# Renumber windows in sequential order.
bind-key -T prefix > move-window -r

set-option -g base-index 1
set-option -g pane-base-index 1

set-option -g history-limit 10000
set-option -g renumber-windows off

set-option -g status on
set-option -g status-position top
set-option -g status-interval 0
set-option -g status-left-length 60

set-option -g -w aggressive-resize on

set-option -g -w xterm-keys on

set-option -g -w monitor-activity on

# Slackware 14.2 has tmux 2.1, which does not support the monitor-bell option.
# When I have a newer version of tmux, I will uncomment the next line.
#setw -g monitor-bell on
set-option -g bell-on-alert on

# The default set of word separators are too limited, so define a larger set.
# The following is a concatenation of "'" (the single-quote character enclosed
# in double-quotes) and '...' (multiple characters including the double-quote
# enclosed in single quotes) so as to include the single-quote and double-quote
# characters in the set.
set-option -g word-separators "'"' 	`!@&*()-_=+{[}]|\:;",<.>/?'

set-option -g status-left "#{host} #{session_name} #{?client_prefix,P, } "
set-option -g status-right ""
set-option -g -w window-status-current-format "#{window_index}#{window_flags}#{?pane_synchronized,S,}:#{pane_current_command}"
set-option -g -w window-status-format "#{window_index}#{window_flags}#{?pane_synchronized,S,}:#{pane_current_command}"

set-option -g message-style fg=black,bg=yellow
set-option -g message-command-style fg=yellow,bg=black
set-option -g status-style fg=black,bg=white
set-option -g status-left-style fg=black,bg=white
set-option -g status-right-style fg=black,bg=white
set-option -g -w window-status-style fg=black,bg=white
set-option -g -w window-status-current-style fg=black,bg=green
set-option -g -w window-status-activity-style fg=black,bg=white
set-option -g -w window-status-bell-style fg=black,bg=white
set-option -g -w mode-style fg=black,bg=yellow
set-option -g -w pane-border-style fg=magenta,bg=default
set-option -g -w pane-active-border-style fg=cyan,bg=default

# Keep mouse off by default; define key mapping to toggle.
set-option -g mouse off
bind-key -T prefix M-m set-option mouse
